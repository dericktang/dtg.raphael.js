/*! * dtg.raphael.js ~ Copyright (c) 2014 dericktang, https://github.com/dericktang/dtg.raphael.js * Released under MIT license */Raphael.g = {    /*\     * g.pathattr     [ object ]     **     * An attribute object that charts and tooltips will set on any generated text     **     > Default value     | { font: '12px Arial, sans-serif', fill: '#fff' }     \*/      pathattr: { font: '12px Arial, sans-serif', fill: '#fff' }    };(function () {        function SvgPath(ctx,path,x, y, s) {       var path = ctx.path(path).attr(Raphael.g.pathattr).attr(x,x).attr(y,y);       path.transform("t"+x+","+y+"s"+s+","+s);       return path;    };        //inheritance    var F = function() {};    F.prototype = Raphael.g;    SvgPath.prototype = new F;        Raphael.fn.svgPath = function(path,x, y, s) {        return new  SvgPath(this,path,x, y, s);    }    })();(function () {        function SvgLayout(paper) {       var layout = paper.set();       layout.attr(Raphael.g.pathattr);       layout.pushIn = function(obj){           layout.push(obj);        }       layout.dragIn =function(){         var starLayout = new Array();         layout.drag(function(dx, dy, x, y, e){//move         console.log(dx+" "+ dy);         for(var i=0;i<layout.length;i++){             var last = starLayout[i];             var xx  =last[1];             var yy  =last[2];//上次移动             var xdiff = dx-xx;             var ydiff = dy-yy;             layout[i].transform("t"+(dx+xx)+","+(dy+yy)+"s4,4");         }                 },function(x, y, e){//start         //console.log(e);         starLayout = new Array();          for(var i=0;i<layout.length;i++){             var last = layout[i].transform();             starLayout.push(last[0]);         }        },function(e){//up         //console.log(e);        });        }       return layout;    };        //inheritance    var F = function() {};    F.prototype = Raphael.g;    SvgLayout.prototype = new F;        Raphael.fn.svgLayout = function() {        return new  SvgLayout(this);    }    })();